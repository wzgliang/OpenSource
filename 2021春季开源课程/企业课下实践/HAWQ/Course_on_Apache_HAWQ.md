# 开源课程——Apache HAWQ

## 0. 课程规划备注

- 授课对象为北京大学软微学院一年级研究生，主持课堂的授课教师是荆琦老师。

- 课程三月份选课结束，四月份开课，课堂上课时间为两个月，五月份结束。不过在选课结束之后，课堂正式开课前，可先开展线下活动，企业需每周提供一次线下互动，为期12次。

  > 3.8第一次课要出席
  >
  > 4.26~5.31企业课

- 课堂上有8次课，在北京大学大兴校区开展课堂授课。其中4次课程由荆琦老师主讲，以开源基础为主。另外4次企业主讲，每个项目各承担一次，内容面向课程内的所有同学。每次授课为四个课堂学时，需要布置作业。

- 企业需为各自项目中的每个同学进行单独评分。企业根据内部人员安排决定承接的学生人数，同一项目内各同学的评分分布均匀。

- license的内容可以不用关注

### 0.1 备课疑问

- [ ] 可以获取所有的授课材料吗？这样可以避免重复讲述内容。

## 1. HAWQ部分课程大纲

- 预备知识
- 相关的项目开发任务
- 简单的评分细则
- Apache HAWQ项目容量为10位同学

## 2. HAWQ相关授课课件

### 2.1 课程内容大纲

上课时间为8:30 ~ 12:00，间隔休息十分钟。

每个点为一学时内容，每个一级小点15分钟，每个二级小点5分钟。

- 开篇，Apache社区，数据仓库概念历史和应用
  - 开篇
    - Apache HAWQ项目历史
    - Apache社区
      - project management
      - license
  - 数据仓库概念和演变历史
    - HAWQ的渊源
  - 常见概念误区
  - 云原生数据仓库
    - 无限大的中央存储
    - 按需调度的计算资源
    - 一直在线的云服务
  
- 大数据相关架构，技术和论文
  - Google Three Paper
  - Hadoop Ecosystem
  - MPP
  
- 开源数据仓库
  - 实例
    - greenplum
    - hive
    - impala
  - 软件技术选择
  
- Apache HAWQ基本原理/提问时间
  
  > 如果时间控制得不好的话就减少内容
  
  - 基本组件和部署架构
  - 查询计划
  - 查询执行
  - 课程相关任务在Apache HAWQ项目中定位
  

### 2.2 课程小作业和评分

作业量在一个小时左右。

#### 2.2.1 单选题

1. 分析型数据库的演进路线是：传统数据仓库的（     ），SQL-on-Hadoop的（     ），基于x86的MPP数据库（     ），面相AI的云数据库（     ）。

   A. 无共享   B. 云原生   C. 存储与计算分离   D. 专有硬件

2. HAWQ在2015年开源为Apache孵化项目，并于(    )年成为Apache顶级项目。

   A. 2016   B. 2017   C. 2018   D. 2019

3. 以下哪个组件不在HAWQ的master上（                  ）
   A. Optimizer   B. Interconnect   C. Dispatcher   D. Resource Manager

4. 以下哪些特点使得HAWQ成为云原生的数据库（                  ）
       A. 多级资源管理         B. 弹性扩展架构
       C. 计算与存储分离       D. 和PaaS/Docker云平台原生结合

5. 以下哪些关于HAWQ的表述是不正确的（                  ）
   A. 提供了存储，查询和修改空间数据的能力   B. 与PostgreSQL和GPDB语法兼容
   C. 和GPDB的架构一样                     D. 支持混合工作负载

6. 以下哪些项是HAWQ支持的功能（                  ）
       A. 数据统计  B. 数据治理   C. 数据挖掘   D. 数据探索

7. HAWQ中的执行单元是(                  )
       A. Slice   B. Gang   C. QE   D. Virtual Segment

8. 以下哪些是HAWQ的事务支持的属性(                  )
       A. Consistency   B. Durability   C. Atomicity   D. Isolation

#### 2.2.2 问答题

1. 并行数据库和分布式数据库的区别
2. 课程中提到数据仓库系统的四次演变，挑选一代你熟悉的数仓类型，简述其时代适应性和需求适应性。
3. 联想一下课程中提到的分布式/并行处理技术和单机系统或者别的技术的联系（例如，MapReduce和函数式编程中的map reduce概念；MapReduce和SQL中的group by操作；S3和集中式存储；）

## 3. HAWQ实践任务

> 内容迁移到了[偶数科技HAWQ开源开发实践](https://codechina.csdn.net/OSC/OSSD/-/blob/master/%E5%81%B6%E6%95%B0%E7%A7%91%E6%8A%80HAWQ%E9%A1%B9%E7%9B%AE%E5%BC%80%E6%BA%90%E5%AE%9E%E8%B7%B5/%E5%81%B6%E6%95%B0%E7%A7%91%E6%8A%80HAWQ%E5%BC%80%E6%BA%90%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5.md)

### 3.1 任务选题 

### 3.2 线下交流的主题安排

### 3.3 评分简则

## 5. 批注

一点不成熟的想法，大家看看是否可以讨论一下：

1. 公司简介放到这里不是特别好，是否可以从公司的开源战略或者在开源方面的贡献来写（包括小标题）；
2. 第三部分是否可以作为第二部分的一个实例去讲，感觉专门介绍项目对于其他队伍的学生不是很友好，是否可以更多的从技术的角度去组织和讲解，如果去做一个基于大数据架构的开源分布式数据库，评价因素和目标有哪些，相关的技术和实现是怎样的，可以有哪些方案，我们的方案是怎样的，有哪些特点和优势，具体如何做的......
3. 有关偶数的开源战略，HAWK的社区除了apache社区的常规性内容是否有自己独特的管理组织开发等方面的策略，比如HAWK项目的实例化社区示例（人员组成、代码管理等）是怎样的，开发时是否使用了一些敏捷的思想，devops的工具等，是否有自己的代码规范等，HAWK的开源生态上下游企业等，这些不知道是否有可以增加的地方。

教学要求：
1     开源文化概述（4学时）： 
了解开源文化的由来，基本概念，了解其与自由软件的区别；了解开源生态运转的基本形式和规则；了解典型的开源社区以及各类开源社区的运营方式。
2     开放源代码治理（4学时）： 
了解开源软件相关license的定义、种类、区别与使用条件；了解开源软件知识产权相关内容。
3     git实践（4学时）：
了解git基本概念，远程仓库，以及分支管理。
4     开放源代码阅读实践（4学时）： 
了解开放源代码阅读的基本知识、工具，参与开放源代码的阅读并且熟练掌握各种阅读技巧。
5     开放源代码项目开发实践（16学时）： 
以Rocket MQ、Linux Kernel、PostgreSQL、HAWQ等典型开源项目为例，了解开源项目贡献方法、学会如何参与开发，如何从社区获得帮助。 
1）Rocket MQ开发实践：
•       学会参与开源社区、如何从开源社区获得帮助
•       知道为什么需要消息队列，如何选型消息队列
•       了解Rocket MQ运⾏的基本原理、功能特性讲解、系统架构和部署架构
•       知道如何搭建Rocket MQ集群、Console；了解Rocket MQ运维⼯具的使⽤⽅法；了解Rocket MQ常⻅问题及解决⽅法
•       基于RocketMQ的电商⾼并发系统实战
•       了解Rocket MQ的关键机制及学习路线
•       消息发送机制及源码解析；事务消息原理解读及源码分析
•       了解消息存储概要设计；源码分析 Rocket MQ 内存映射机制；Rocket MQ⽂件恢复及过期⽂件删除机制
•       了解Rocket MQ开源项⽬组织⽅式、管理机制；Rocket MQ开源社区的RIP机制；如何成为Rocket MQ社区的Contributor；Rocket MQ开源项⽬单测实践
•       了解Rocket MQ的⽣态项⽬应⽤场景、技术路线及⽬前应⽤情况，了解Rocket MQ未来的技术规划 

2）Linux Kernel开发实践：
•  学会参与Linux Kernel开源社区、如何从开源社区获得帮助
•  了解Linux Kernel代码开发规范
•  掌握Linux Kernel源代码阅读技巧
•  了解Linux Kernel源代码结构
•  了解Linux Kernel源代码开发关键技术及相关基本原理
•  Linux Kernel补丁检索及源代码开发实践
3）PostgreSQL开发实践简介
4）HAWQ开发实践简介

## 6. 参考材料

- 数据库系统概念

  > 基本概念参考

- 大数据浪潮之巅

  > 书的内容偏向新闻读物
  >
  > 可以根据书的目录去搜索相关的论文

- https://github.com/pingcap/awesome-database-learning